---
title: 网络编程
date: 2020-01-06 14:25:47
tags:
---
# OSI模型(网络七层模型)
OSI(Open System Interconnection)模型,意为开放式系统互联.简单来说就是为了使计算机之间的通信标准化,然后划分出了网络七层模型,为了更好的理解网络通信如何工作.

基本划分:
七层划分: 物理层,数据链路层,网络层,传输层,会话层,表示层,应用层
五层划分: 物理层,数据链路层,网络层,传输层,应用层
四层划分: 网络接口层,网路层,传输层,应用层

## 物理层
物理层主要是指硬件,包括网线,光纤,网卡,路由器,网络通信设备等硬件设备.

## 数据链路层
数据链路层对电信号做分组,形成了以太网协议Ethernet.
数据链路层的工作方式--广播.
仅通过广播的方式,在数据链路层就可以完成同一局域网内通信,MAC地址之间通过广播的方式.但在不同的局域网之间实现跨网络通信,就需要在网络层了.

## 网络层
网络层定义了IP协议.通过IP地址,可以知道你所在的局域网,通过MAC地址可以知道你在局域网内的地址.

在计算机通信时,会判断你所在的局域网,对方所在的局域网,如果在同一个局域网内,基于MAC地址广播发包就可以.

如果不在同一个局域网,即跨网络发包,就会先把你的包交给网关来转发.IP地址和MAC地址唯一标识了你在互联网中的位置.

数据链路层中会把网络层的数据包封装到数据链路层的数据位置，然后再添加上自己的包头，再发给物理层，物理层发给网关，网关再发给对方局域网的网关，对方局域网的网关收到后在那个局域网内做广播。

## 传输层
网络层的ip帮我们区分局域网,数据链路层的mac帮我们找到主机,传输层通过端口标识主机上的应用程序.(端口即应用程序与网卡关联的编号).
传输层功能: 建立端口到端口的通信
端口范围: 0-65535,0-1023为系统占用端口.

传输层的两个重要协议:TCP协议和UDP协议
* TCP协议
面向连接的,占用资源多,速度相对较慢,提供可靠的数据传输服务

* UDP协议
无连接,占用资源较小,速度非常快不可靠的数据传输,这在一些对数据可靠性较低的场景中是非常有用的，比如音视频服务，物联网数据上报服务等.